doctype html
html
  head
    title Add New Appointment
    link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH' crossorigin='anonymous')
  body
    .container
      h1.mt-4 Add New Appointment
      a.btn.btn-primary.mt-4(href='/appointments') Back
      .container.col-xs-12.col-sm-10.col-md-6.col-lg-6
        form(action='/appointments' method='POST')
          div
            label.form-label(for='patientId') Patient:
            select.form-select(name='patientId' id='patientId' required)
              each patient in patients
                option(value=patient._id)= `${patient.firstName} ${patient.lastName}`
          div
            label.form-label(for='doctorId') Doctor:
            select.form-select(name='doctorId' id='doctorId' required)
              each doctor in doctors
                option(value=doctor._id)= `${doctor.firstName} ${doctor.lastName}`
          div
            label.form-label(for='medicalProcedureId') Procedure:
            select.form-select(name='medicalProcedureId' id='medicalProcedureId' required)
              each procedure in medicalProcedures
                option(value=procedure._id)= procedure.name
          div
            label.form-label(for='medicalCenterId') Medical Center:
            select.form-select(name='medicalCenterId' id='medicalCenterId' required)
              each center in medicalCenters
                option(value=center._id)= center.name
          div
            label.form-label(for='date') Date:
            input.form-control(type='date' name='date' id='date' required)
          div
            label.form-label(for='time') Time:
            input.form-control(type='time' name='time' id='time' required)
          div
            label.form-label(for='location') Location:
            input.form-control(type='text' name='location' id='location' required)
          // Initially set the payment status to 'Pending' and paymentId to null
          div
            label.form-label(for='paymentStatus') Payment Status:
            input.form-control(type='text' name='paymentStatus' id='paymentStatus' value='Pending' readonly)
          // Hidden field for paymentId
          // Ensure the paymentId is not set to an empty string
          input(type='hidden' name='paymentId' value=null)
          div
            button.btn.btn-primary.mt-4.float-end(type='submit') Add Appointment
